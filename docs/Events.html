<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Events - Type-R</title>
    <meta name="description" content="Universal state management for JS" />
    <meta name="author" content="Vlad Balin">
    <meta charset="UTF-8">
    <link rel="icon" href="themes/daux/img/favicon-navy.png" type="image/x-icon">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic' rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='themes/daux/css/theme-navy.min.css' rel='stylesheet' type='text/css'>
            <!-- Tipue Search -->
        <link href="tipuesearch/tipuesearch.css" rel="stylesheet">
    
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body class="">
    
<header class="Navbar hidden-print">
    <a class="Navbar__brand" href="index.html">Type-R</a>

    <div class="Search">
        <svg class="Search__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451 451"><path d="M447.05 428l-109.6-109.6c29.4-33.8 47.2-77.9 47.2-126.1C384.65 86.2 298.35 0 192.35 0 86.25 0 .05 86.3.05 192.3s86.3 192.3 192.3 192.3c48.2 0 92.3-17.8 126.1-47.2L428.05 447c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.2-5.2 5.2-13.8 0-19zM26.95 192.3c0-91.2 74.2-165.3 165.3-165.3 91.2 0 165.3 74.2 165.3 165.3s-74.1 165.4-165.3 165.4c-91.1 0-165.3-74.2-165.3-165.4z"/></svg>
        <input type="search" id="tipue_search_input" class="Search__field" placeholder="Search..." autocomplete="on" results=25 autosave=text_search>
    </div>
</header>
<div class="Columns content">
    <aside class="Columns__left Collapsible">
        <div class="Collapsible__container">
            <button type="button" class="Button Collapsible__trigger">
                <span class="Collapsible__trigger--bar"></span>
                <span class="Collapsible__trigger--bar"></span>
                <span class="Collapsible__trigger--bar"></span>
            </button>
        </div>

        <div class="Collapsible__content">
            <!-- Navigation -->
            <ul class='Nav'><li class='Nav__item '><a href="Getting_Started.html">Getting Started</a></li><li class='Nav__item  has-children'><a href="Record/Overview.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Record</a><ul class='Nav'><li class='Nav__item '><a href="Record/Overview.html">Overview</a></li><li class='Nav__item '><a href="Record/Updates_and_transactions.html">Updates and transactions</a></li><li class='Nav__item '><a href="Record/Observable_changes.html">Observable changes</a></li></ul></li><li class='Nav__item  has-children'><a href="Collection/Overview.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Collection</a><ul class='Nav'><li class='Nav__item '><a href="Collection/Overview.html">Overview</a></li><li class='Nav__item '><a href="Collection/Updates_and_transactions.html">Updates and transactions</a></li><li class='Nav__item '><a href="Collection/Observable_changes.html">Observable changes</a></li><li class='Nav__item '><a href="Collection/Iteration_methods.html">Iteration methods</a></li><li class='Nav__item '><a href="Collection/Sorted_collections.html">Sorted collections</a></li><li class='Nav__item '><a href="Collection/Proxied_array_methods.html">Proxied array methods</a></li></ul></li><li class='Nav__item  has-children'><a href="API_by_feature/Aggregation_tree.html" class="folder"><i class="Nav__arrow">&nbsp;</i>API by feature</a><ul class='Nav'><li class='Nav__item '><a href="API_by_feature/Aggregation_tree.html">Aggregation tree</a></li><li class='Nav__item '><a href="API_by_feature/Serialization.html">Serialization</a></li><li class='Nav__item '><a href="API_by_feature/Validation.html">Validation</a></li><li class='Nav__item '><a href="API_by_feature/Shared_objects.html">Shared objects</a></li><li class='Nav__item '><a href="API_by_feature/id-references_and_Stores.html">id-references and Stores</a></li><li class='Nav__item '><a href="API_by_feature/Polymorphic_and_recursive_data.html">Polymorphic and recursive data</a></li></ul></li><li class='Nav__item Nav__item--active'><a href="Events.html">Events</a></li><li class='Nav__item '><a href="Mixins.html">Mixins</a></li></ul>

            <div class="Links">
                                    <hr/>
                                            <a href="https://github.com/Volicon/Type-R/issues" target="_blank">Help/Support/Bugs</a>
                        <br />
                                            <a href="http://volicon.com" target="_blank">Made by Volicon (a Verizon company)</a>
                        <br />
                                    
                                    <div class="CodeToggler">
                        <hr/>
                                                    <a class="CodeToggler__button CodeToggler__button--main" href="#">Show Code Blocks Inline</a><br>
                                            </div>
                
                                    <hr/>
                    <div class="Twitter">
                                                    <iframe allowtransparency="true" frameborder="0" scrolling="no" style="width:162px; height:20px;" src="https://platform.twitter.com/widgets/follow_button.html?screen_name=gaperton&amp;show_count=false"></iframe>
                            <br />
                            <br />
                                            </div>
                            </div>
        </div>
    </aside>
    <div class="Columns__right ">
        <div class="Columns__right__content">
            <div class="doc_content">
                <article class="Page">

    <div class="Page__header">
        <h1>Events</h1>
                        <span style="float: right; font-size: 10px; color: gray;">
            <a href="https://github.com/Volicon/Type-R/blob/master/docsource/10_Events.md" target="_blank">Edit on GitHub</a>
        </span>
            </div>


    <div class="s-content">
        <p>Both <code>Record</code> and <code>Collection</code> uses an efficient synchronous events implementation which is compatible with Backbone 1.1 Events API but is twice faster in average. It comes in form of <code>Events</code> mixin and the <code>Messenger</code> base class.</p>
<p>An implementation is optimized for the large amount of relatively small subscriptions (5-10 events). Here are the benchmark results (lower is the better).</p>
<p><img src="./events-performance.jpg" alt="performance" /></p>
<p>It is also available separately as part of <a href="https://github.com/Volicon/MixtureJS" class="external">MixtureJS</a> package.</p>
<h1 id="page_Events+mixin">Events mixin</h1>
<p>Events is a <a href="Mixins.html">mixin</a> giving the object the ability to bind and trigger custom named events. Events do not have to be declared before they are bound, and may take passed arguments.</p>
<pre><code class="language-javascript">import { mixins, Events } from 'type-r'

@mixins( Events )
class Messenger {
    ...
}
</code></pre>
<blockquote>
<p><code>Messenger</code> abstract base class is included with Type-R, see below.</p>
</blockquote>
<h3 id="page_eventsSource.trigger%28event%2C+arg1%2C+arg2%2C+...+%29">eventsSource.trigger(event, arg1, arg2, ... )</h3>
<p>Trigger callbacks for the given event, or space-delimited list of events. Subsequent arguments to trigger will be passed along to the event callbacks.</p>
<h2 id="page_High-level+listening+API">High-level listening API</h2>
<p>All high-level event subscriptions are stopped automatically on the listener's disposal, and thus does not introduce memory leaks.</p>
<p>This is the preferable listening API and must be used in all application code.</p>
<h3 id="page_listener.listenTo%28other%2C+event%2C+callback%29">listener.listenTo(other, event, callback)</h3>
<p>Tell an object to listen to a particular event on an other object. The advantage of using this form, instead of other.on(event, callback, object), is that listenTo allows the object to keep track of the events, and they can be removed all at once later on. The callback will always be called with object as context.</p>
<pre><code>view.listenTo(model, 'change', view.render );
</code></pre>
<h3 id="page_listener.stopListening%28+%5B+other%5D%2C++%5B+event%5D%2C++%5B+callback%5D%29">listener.stopListening([other], [event], [callback])</h3>
<p>Tell an object to stop listening to events. Either call stopListening with no arguments to have the object remove all of its registered callbacks ... or be more precise by telling it to remove just the events it's listening to on a specific object, or a specific event, or just a specific callback.</p>
<pre><code>view.stopListening(); // Unsubscribe from all events

view.stopListening(model); // Unsubscribe from all events from the model
</code></pre>
<p>All Type-R classes execute <code>this.stopListening()</code> from their <code>dispose()</code> method.</p>
<h3 id="page_listener.listenToOnce%28other%2C+event%2C+callback%29">listener.listenToOnce(other, event, callback)</h3>
<p>Just like listenTo, but causes the bound callback to fire only once before being removed.</p>
<h2 id="page_Low-level+listening+API">Low-level listening API</h2>
<p>This API is more efficient but requires manual action to stop the subscription. Must be used with care.</p>
<h3 id="page_eventSource.on%28event%2C+callback%2C++%5B+context%5D%29">eventSource.on(event, callback, [context])</h3>
<p>Bind a callback function to an object. The callback will be invoked whenever the event is fired. If you have a large number of different events on a page, the convention is to use colons to namespace them: &quot;poll:start&quot;, or &quot;change:selection&quot;. The event string may also be a space-delimited list of several events...</p>
<pre><code>book.on(&quot;change:title change:author&quot;, ...);
</code></pre>
<p>Callbacks bound to the special &quot;all&quot; event will be triggered when any event occurs, and are passed the name of the event as the first argument. For example, to proxy all events from one object to another:</p>
<pre><code>proxy.on(&quot;all&quot;, function(eventName) {
    object.trigger(eventName);
});
</code></pre>
<p>All event methods also support an event map syntax, as an alternative to positional arguments:</p>
<pre><code>book.on({
    &quot;change:author&quot;: authorPane.update,
    &quot;change:title change:subtitle&quot;: titleView.update,
    &quot;destroy&quot;: bookView.remove
});
</code></pre>
<p>To supply a context value for this when the callback is invoked, pass the optional last argument: <code>model.on('change', this.render, this)</code> or <code>model.on({change: this.render}, this)</code>.</p>
<h3 id="page_eventSource.off%28+%5B+event%5D%2C++%5B+callback%5D%2C++%5B+context%5D%29">eventSource.off([event], [callback], [context])</h3>
<p>Remove a previously-bound callback function from an object. If no context is specified, all of the versions of the callback with different contexts will be removed. If no callback is specified, all callbacks for the event will be removed. If no event is specified, callbacks for all events will be removed.</p>
<pre><code>// Removes just the `onChange` callback.
object.off(&quot;change&quot;, onChange);

// Removes all &quot;change&quot; callbacks.
object.off(&quot;change&quot;);

// Removes the `onChange` callback for all events.
object.off(null, onChange);

// Removes all callbacks for `context` for all events.
object.off(null, null, context);

// Removes all callbacks on `object`.
object.off();
</code></pre>
<p>Note that calling <code>model.off()</code>, for example, will indeed remove all events on the model — including events that Backbone uses for internal bookkeeping.</p>
<h3 id="page_eventsSource.once%28event%2C+callback%2C++%5B+context%5D%29">eventsSource.once(event, callback, [context])</h3>
<p>Just like on, but causes the bound callback to fire only once before being removed. Handy for saying &quot;the next time that X happens, do this&quot;. When multiple events are passed in using the space separated syntax, the event will fire once for every event you passed in, not once for a combination of all events</p>
<h1 id="page_Messenger">Messenger</h1>
<p>Messenger is an abstract base class implementing Events mixin and some convenience methods.
As all Type-R classes, its definition must be preceded with the <code>@define</code> decorator.</p>
<pre><code class="language-javascript">import { define, Messenger } from 'type-r'

@define class MyMessenger extends Messenger {

}
</code></pre>
<h3 id="page_messenger.cid"><code>readonly</code> messenger.cid</h3>
<p>Unique run-time only messenger instance id (string).</p>
<h3 id="page_messenger.initialize%28%29">messenger.initialize()</h3>
<p>Callback which is called at the end of the constructor.</p>
<h3 id="page_messenger.dispose%28%29">messenger.dispose()</h3>
<p>Executes <code>messenger.stopListening()</code> and <code>messenger.off()</code>.</p>
<p>Objects must be disposed to prevent memory leaks caused by subscribing for events from singletons.</p>
<h1 id="page_List+of+built-in+events">List of built-in events</h1>
<h2 id="page_Record+events">Record events</h2>
<h3 id="page_%22change%3AattrName%22+%28record%2C+value%2C+options%29"><code>event</code> &quot;change:attrName&quot; (record, value, options)</h3>
<p>When a specific attribute has been updated</p>
<h3 id="page_%22change%22+%28record%2C+options%29"><code>event</code> &quot;change&quot; (record, options)</h3>
<p>When a record's attributes have changed.</p>
<h2 id="page_Collection+events">Collection events</h2>
<h3 id="page_%22changes%22+%28collection%2C+options%29"><code>event</code> &quot;changes&quot; (collection, options)</h3>
<p>The main change event. Single event triggered when the collection has been changed.</p>
<h3 id="page_%22update%22+%28collection%2C+options%29"><code>event</code> &quot;update&quot; (collection, options)</h3>
<p>Single event triggered after any number of records have been added or removed from a collection.</p>
<h3 id="page_%22reset%22+%28collection%2C+options%29"><code>event</code> &quot;reset&quot; (collection, options)</h3>
<p>When the collection's entire contents have been reset.</p>
<h3 id="page_%22sort%22+%28collection%2C+options%29"><code>event</code> &quot;sort&quot; (collection, options)</h3>
<p>When the collection has been re-sorted.</p>
<h3 id="page_%22add%22+%28record%2C+collection%2C+options%29"><code>event</code> &quot;add&quot; (record, collection, options)</h3>
<p>When a record is added to a collection.</p>
<h3 id="page_%22remove%22+%28record%2C+collection%2C+options%29"><code>event</code> &quot;remove&quot; (record, collection, options)</h3>
<p>When a record is removed from a collection.</p>
<h3 id="page_%22change%22+%28record%2C+options%29"><code>event</code> &quot;change&quot; (record, options)</h3>
<p>When a record's attributes have changed.</p>
    </div>

        <nav>
        <ul class="Pager">
            <li class=Pager--prev><a href="API_by_feature/Polymorphic_and_recursive_data.html">Previous</a></li>            <li class=Pager--next><a href="Mixins.html">Next</a></li>        </ul>
    </nav>
    </article>

            </div>
        </div>
    </div>
</div>

    
    <!-- jQuery -->
    <script src="themes/daux/js/jquery-1.11.3.min.js"></script>

    <!-- hightlight.js -->
    <script src="themes/daux/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- JS -->
    
    <script src="themes/daux/js/daux.js"></script>

            <!-- Tipue Search -->
        <script type="text/javascript" src="tipuesearch/tipuesearch.js"></script>

        <script>
            window.onunload = function(){}; // force $(document).ready to be called on back/forward navigation in firefox
            $(function() {
                tipuesearch({
                    'base_url': ''
                });
            });
        </script>
    
</body>
</html>
