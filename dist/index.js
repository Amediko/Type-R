!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Nested=e():t.Nested=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=18)}([function(t,e,n){"use strict";var r=n(5);n.d(e,"a",function(){return r});var i=n(7);n.d(e,"c",function(){return i.a}),n.d(e,"d",function(){return i.b}),n.d(e,"e",function(){return i.c}),n.d(e,"f",function(){return i.d}),n.d(e,"g",function(){return i.e}),n.d(e,"h",function(){return i.f}),n.d(e,"i",function(){return i.g});var o=n(19);n.d(e,"j",function(){return o.a}),n.d(e,"k",function(){return o.b}),n.d(e,"l",function(){return o.c});var s=n(6);n.d(e,"b",function(){return s}),Object.extend=function(t,e){return i.a.extend(t,e)},Object.assign||(Object.assign=r.assign),Object.log=r.log},function(t,e,n){"use strict";var r=n(0),i=n(28),o=n(10);n.d(e,"c",function(){return s}),n.d(e,"a",function(){return p}),n.d(e,"b",function(){return h});var s,a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=(r.a.assign,r.b.trigger2,r.b.trigger3),c=r.b.on,f=r.b.off;!function(t){t[t.share=1]="share",t[t.listen=2]="listen",t[t.persistent=4]="persistent"}(s||(s={}));var p=function(){function t(t){this._events=void 0,this._changeToken={},this._transaction=!1,this._isDirty=null,this._owner=void 0,this._ownerKey=void 0,this._validationError=void 0,this.cid=this.cidPrefix+t}return t.prototype.dispose=function(){this._disposed||(this._owner=void 0,this._ownerKey=void 0,this.off(),this.stopListening(),this._disposed=!0)},t.prototype.initialize=function(){},t.prototype.onChanges=function(t,e){c(this,this._changeEventName,t,e)},t.prototype.offChanges=function(t,e){f(this,this._changeEventName,t,e)},t.prototype.listenToChanges=function(t,e){this.listenTo(t,t._changeEventName,e)},t.prototype.transaction=function(t,e){void 0===e&&(e={});var n=h.begin(this);t.call(this,this),n&&h.commit(this)},t.prototype.updateEach=function(t,e){var n=h.begin(this);this.each(t),n&&h.commit(this)},t.prototype.set=function(t,e){if(t){var n=this._createTransaction(t,e);n&&n.commit()}return this},t.prototype.assignFrom=function(t){return this.set(t.__inner_state__||t,{merge:!0})},t.prototype.parse=function(t,e){return t},t.prototype.deepGet=function(t){return n.i(o.a)(this,t,function(t,e){return t.get?t.get(e):t[e]})},t.prototype.getOwner=function(){return this._owner},t.prototype.getStore=function(){var t=this._owner;return t?t.getStore():this._defaultStore},t.prototype.map=function(t,e){var n=[],r=void 0!==e?function(n,r){return t.call(e,n,r)}:t;return this.each(function(t,e){var i=r(t,e);void 0!==i&&n.push(i)}),n},t.prototype.mapObject=function(t,e){var n={};return this.each(function(e,r){var i=t(e,r);void 0!==i&&(n[r]=i)}),n},Object.defineProperty(t.prototype,"validationError",{get:function(){var t=this._validationError||(this._validationError=new i.a(this));return t.length?t:null},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){},t.prototype.getValidationError=function(t){var e=this.validationError;return(t?e&&e.nested[t]:e)||null},t.prototype.deepValidationError=function(t){return n.i(o.a)(this,t,function(t,e){return t.getValidationError(e)})},t.prototype.eachValidationError=function(t){var e=this.validationError;e&&e.eachError(t,this)},t.prototype.isValid=function(t){return!this.getValidationError(t)},t.prototype.valueOf=function(){return this.cid},t.prototype.toString=function(){return this.cid},t.prototype.getClassName=function(){var t=this.constructor.name;if("Subclass"!==t)return t},t}();p=a([n.i(r.e)(r.k),r.f],p);var h={begin:function(t){return!t._transaction&&(t._transaction=!0)},markAsDirty:function(t,e){var n=!e.silent;return n&&(t._isDirty=e),t._changeToken={},t._validationError=void 0,n},commit:function(t,e){var n=t._isDirty;if(n){for(;t._isDirty;){var r=t._isDirty;t._isDirty=null,u(t,t._changeEventName,t,r,e)}t._transaction=!1;var i=t._owner;i&&i!==e&&i._onChildrenChange(t,n)}else t._isDirty=null,t._transaction=!1},aquire:function(t,e,n){return e._owner?e._owner===t:(e._owner=t,e._ownerKey=n,!0)},free:function(t,e){t===e._owner&&(e._owner=void 0,e._ownerKey=void 0)}}},function(t,e,n){"use strict";function r(t){var e=t.defaults,n=t.attributes,r=t.idAttribute,i="function"==typeof e?e():n||e||{};return!r||r in i||(i[r]=void 0),i}function i(t){"function"==typeof t?(this.Collection=t,this.Collection.prototype.model=this):this.Collection.define(t||{})}function o(t,e){t.hasOwnProperty("shared")||Object.defineProperty(t,"shared",{get:function(){return new c.a({value:null,type:t,_attribute:e})}})}var s=n(9),a=n(0),u=n(24),c=n(12),f=n(1),p=n(8);n.d(e,"d",function(){return p.a}),n.d(e,"e",function(){return p.b}),n.d(e,"f",function(){return p.c}),n.d(e,"g",function(){return p.d}),n.d(e,"h",function(){return p.e}),n.d(e,"i",function(){return p.f}),n.d(e,"j",function(){return p.g}),n.d(e,"k",function(){return p.h}),n.d(e,"l",function(){return p.i}),n.d(e,"a",function(){return s.a}),n.d(e,"b",function(){return c.a}),e.c=o;var h=a.a.assign,l=(a.a.defaults,a.a.omit),d=a.a.getBaseClass;s.a.define=function(t,e){void 0===t&&(t={});var o=d(this),s=o.prototype,c=a.a.getChangedStatics(this,"attributes","collection","Collection"),f=h(c,t);"Collection"in this&&void 0===this.Collection&&a.a.log.error("[Model Definition] "+this.prototype.getClassName()+".Collection is undefined. It must be defined _before_ the model.",f);var p=n.i(u.a)(this.attributes=r(f),s._attributes);return f.properties===!1&&(p.properties={}),h(p.properties,t.properties||{}),h(p,l(f,"attributes","collection","defaults","properties","forEachAttr")),a.c.define.call(this,p,e),i.call(this,f.collection||f.Collection),this},s.a.predefine=function(){return f.a.predefine.call(this),this.Collection=d(this).Collection.extend(),this.Collection.prototype.model=this,o(this,p.i),this},s.a._attribute=p.b,o(s.a,p.i),Object.defineProperties(Date,{microsoft:{get:function(){return new c.a({type:Date,_attribute:p.d})}},timestamp:{get:function(){return new c.a({type:Date,_attribute:p.e})}}}),Number.integer=function(t){return t?Math.round(t):0},Number.integer._attribute=p.g,"undefined"!=typeof window&&(window.Integer=Number.integer)},function(t,e,n){"use strict";function r(t,e){return function(n,r,i){t.call(this,n,r,i),e.call(this,n,r,i)}}function i(t,e){return function(n,r){return e.call(this,t.call(this,n,r),r)}}function o(t,e){return function(n,r,i,o){return e.call(this,t.call(this,n,r,i,o),r,i,o)}}function s(t){return function(e,n,r){return n?t.call(this,e,n,r):"Required"}}var a=n(9),u=n(0);n.d(e,"a",function(){return p});var c=u.a.notEqual,f=u.a.assign,p=function(){function t(t,e){this.name=t,this.getHook=null,this.options=e;var n=f({getHooks:[],transforms:[],changeHandlers:[]},e);n.getHooks=n.getHooks.slice(),n.transforms=n.transforms.slice(),n.changeHandlers=n.changeHandlers.slice();var a=n.value,u=n.type,c=n.parse,p=n.toJSON,h=n.changeEvents,l=n.validate,d=n.getHooks,v=n.transforms,y=n.changeHandlers;if(this.value=a,this.type=u,this.propagateChanges=h!==!1,this.parse=c,this.toJSON=void 0===p?this.toJSON:p,this.validate=l||this.validate,n.isRequired&&(this.validate=s(this.validate)),v.unshift(this.convert),this.get&&d.unshift(this.get),this.initialize.call(this,n),d.length){var g=this.getHook=d.reduce(i),b=this.validate;this.validate=function(t,e,n){return b.call(this,t,g.call(t,e,n),n)}}v.length&&(this.transform=v.reduce(o)),y.length&&(this.handleChange=y.reduce(r))}return t.create=function(e,n){var r=e.type;return new(e._attribute||(r?r._attribute:t))(n,e)},t.prototype.canBeUpdated=function(t,e,n){},t.prototype.transform=function(t,e,n,r){return t},t.prototype.convert=function(t,e,n,r){return t},t.prototype.isChanged=function(t,e){return c(t,e)},t.prototype.handleChange=function(t,e,n){},t.prototype.create=function(){return new this.type},t.prototype.clone=function(t,e){if(t&&"object"==typeof t){if(t.clone)return t.clone();var n=Object.getPrototypeOf(t);if(n===Object.prototype||n===Array.prototype)return JSON.parse(JSON.stringify(t))}return t},t.prototype.dispose=function(t,e){this.handleChange(void 0,e,t)},t.prototype.validate=function(t,e,n){},t.prototype.toJSON=function(t,e){return t&&t.toJSON?t.toJSON():t},t.prototype.createPropertyDescriptor=function(){var t=this,e=t.name,r=t.getHook;if("id"!==e)return{set:function(t){n.i(a.b)(this,e,t)},get:r?function(){return r.call(this,this.attributes[e],e)}:function(){return this.attributes[e]}}},t.prototype.initialize=function(t,e){},t.prototype._log=function(t,e,n,r){u.a.log[t]("[Attribute Update] "+r.getClassName()+"."+this.name+": "+e,n,"Attributes spec:",r._attributes)},t}();a.a.prototype._attributes={id:p.create({value:void 0},"id")},a.a.prototype.defaults=function(t){return void 0===t&&(t={}),{id:t.id}}},function(t,e,n){"use strict";function r(t){var e=t.models;return t.models=[],t._byId={},s(t,e),e}function i(t,e,n){var r,i=t.model;if(t._shared)r=e instanceof i?e:i.create(e,n),t._shared&h.c.listen&&y(r,r._changeEventName,t._onChildrenChange,t);else if(r=e instanceof i?n.merge?e.clone():e:i.create(e,n),!_(t,r)){var o=t._aggregationError||(t._aggregationError=[]);o.push(r)}var s=t._itemEvents;return s&&s.subscribe(t,r),r}function o(t,e){t._shared?t._shared&h.c.listen&&g(e,e._changeEventName,t._onChildrenChange,t):m(t,e);var n=t._itemEvents;n&&n.unsubscribe(t,e)}function s(t,e){for(var n=0,r=e;n<r.length;n++){o(t,r[n])}return e}function a(t,e){var n=t._comparator;return!(!n||e.sort===!1)&&(t.models.sort(n),!0)}function u(t,e){t[e.cid]=e;var n=e.id;null!=n&&(t[n]=e)}function c(t,e){delete t[e.cid];var n=e.id;null!=n&&delete t[n]}function f(t,e){delete t[e.previous(e.idAttribute)];var n=e.id;null==n||(t[n]=e)}function p(t){t._log("error","added records already have an owner",t._aggregationError),t._aggregationError=void 0}var h=n(1),l=n(0);e.c=r,e.h=i,e.b=o,e.g=s,e.d=a,e.i=u,e.j=c,e.a=f,n.d(e,"e",function(){return O}),e.f=p;var d=(l.b.EventMap,l.b.trigger2),v=l.b.trigger3,y=l.b.on,g=l.b.off,b=h.b.commit,_=(h.b.markAsDirty,h.b.aquire),m=h.b.free,O=function(){function t(t,e,n,r,i,o){this.object=t,this.isRoot=e,this.added=n,this.removed=r,this.nested=i,this.sorted=o}return t.prototype.commit=function(t){for(var e=this,n=e.nested,r=e.object,i=r._isDirty,o=0,s=n;o<s.length;o++){var a=s[o];a.commit(r)}r._aggregationError&&p(r);for(var u=0,c=n;u<c.length;u++){var a=c[u];d(r,"change",a.object,i)}for(var f=this,h=f.added,l=f.removed,y=0,g=h;y<g.length;y++){var _=g[y];v(_,"add",_,r,i),v(r,"add",_,r,i)}for(var m=0,O=l;m<O.length;m++){var _=O[m];v(_,"remove",_,r,i),v(r,"remove",_,r,i)}this.sorted&&d(r,"sort",r,i),(h.length||l.length)&&d(r,"update",r,i),this.isRoot&&b(r,t)},t}()},function(t,e,n){"use strict";function r(t){if(null===t)return!0;switch(typeof t){case"number":case"string":case"boolean":return!0;case"object":var e=Object.getPrototypeOf(t);if(e===Object.prototype||e===Array.prototype)return f(t,r)}return!1}function i(t){return Object.getPrototypeOf(t.prototype).constructor}function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=i(t),o={},s=0,a=e;s<a.length;s++){var u=a[s],c=t[u];void 0!==c&&c!==r[u]&&(o[u]=c)}return o}function s(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function a(t,e){for(var n,r=0;r<t.length;r++)if(n=e(t[r],r))return n}function u(t,e){var n;for(var r in t)if(t.hasOwnProperty(r)&&(n=e(t[r],r)))return n}function c(t,e){return Object.getPrototypeOf(t)===E?a(t,e):u(t,e)}function f(t,e){return!c(t,function(t){return!e(t)})}function p(t,e){for(var n,r=t;!n&&r;r=Object.getPrototypeOf(r))n=Object.getOwnPropertyDescriptor(r,e);return n}function h(t){for(var e={},n={},r=1;r<arguments.length;r++)n[arguments[r]]=!0;for(var i in t)!n.hasOwnProperty(i)&&t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function l(t,e,n){for(var r in e)if(e.hasOwnProperty(r)){var i=n(e[r],r);void 0===i||(t[r]=i)}return t}function d(t,e){for(var n in e)t[n]=e[n];return t}function v(t,e){for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}function y(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(arguments.length>2)for(var r=2;r<arguments.length;r++){var i=arguments[r];i&&y(t,i)}return t}function g(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n]);if(arguments.length>2)for(var r=2;r<arguments.length;r++){var i=arguments[r];i&&g(t,i)}return t}function b(t){return t?Object.keys(t):[]}function _(t){var e,n=!0;return function(){return n&&(n=!1,e=t.apply(this,arguments),t=null),e}}function m(t,e){if(t===e)return!1;if(t&&e&&"object"==typeof t&&"object"==typeof e){var n=Object.getPrototypeOf(t);if(n!==Object.getPrototypeOf(e))return!0;switch(n){case C:return+t!=+e;case E:return w(t,e);case P:case null:return O(t,e)}}return!0}function O(t,e){var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(var r=0;r<n.length;r++){var i=n[r];if(!e.hasOwnProperty(i)||m(t[i],e[i]))return!0}return!1}function w(t,e){if(t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(m(t[n],e[n]))return!0;return!1}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Log",function(){return j}),n.d(e,"log",function(){return A}),e.isValidJSON=r,e.getBaseClass=i,e.getChangedStatics=o,e.isEmpty=s,e.some=c,e.every=f,e.getPropertyDescriptor=p,e.omit=h,e.transform=l,e.fastAssign=d,e.fastDefaults=v,e.assign=y,e.defaults=g,e.keys=b,e.once=_,e.notEqual=m;var j=function(){function t(){this.stops={},this.throws={},this.logger="undefined"!=typeof console?console:null,this.reset()}return t.prototype.doLogging=function(t,e){var n=this.logger,r=n&&n[t];if(r&&r.apply(n,e),this.stops[t],this.throws[t])throw new Error("["+t+"] "+e[0]);this.counts[t]++},t.prototype.reset=function(){return this.level=2,this.counts={error:0,warn:0,info:0,debug:0},this.stops={},this},t.prototype.developer=function(t){return this.level=3,this.stops={error:!0,warn:Boolean(t)},this},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level>0&&this.doLogging("error",t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level>1&&this.doLogging("warn",t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level>2&&this.doLogging("info",t)},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.level>3&&this.doLogging("debug",t)},Object.defineProperty(t.prototype,"state",{get:function(){return"\nObject.log - Object+ Logging and Debugging Utility\n--------------------------------------------------\nObject.log.counts: Number of logged events by type\n    { errors : "+this.counts.error+", warns : "+this.counts.warn+", info : "+this.counts.info+", debug : "+this.counts.debug+" }\n\nObject.log.level == "+this.level+" : Ignore events which are above specified level \n    - 0 - logging is off;\n    - 1 - Object.log.error(...) only;\n    - 2 - .error() and .warn();\n    - 3 - .error(), .warn(), and .info();\n    - 4 - all of above plus .debug().\n\nObject.log.stops: Stops in debugger for some certain event types\n     { error : "+(this.stops.error||!1)+", warn  : "+(this.stops.warn||!1)+", info  : "+(this.stops.info||!1)+", debug : "+(this.stops.debug||!1)+" } \n\nObject.log.throws: Throws expection on some certain event types\n     { error : "+(this.throws.error||!1)+", warn  : "+(this.throws.warn||!1)+", info  : "+(this.throws.info||!1)+", debug : "+(this.throws.debug||!1)+" }\n"},enumerable:!0,configurable:!0}),t}(),A=new j;Object.setPrototypeOf||(Object.setPrototypeOf=g);var E=Array.prototype,C=Date.prototype,P=Object.prototype},function(t,e,n){"use strict";function r(t){return m[t]||(m[t]=function(e,n,r,i,o){void 0===i&&void 0===o||y(this,t,e,n,r,i,o),void 0!==r?v(this,t,e,n,r):d(this,t,e,n)})}function i(t,e,n,r){for(var i,o,s=t[e],a=s;a;a=a.next)n&&n!==a.callback&&n!==a.callback._callback||r&&r!==a.context?(o=a,i||(i=a)):o&&(o.next=a.next);s!==i&&(t[e]=i)}function o(t,e,n){for(var r=t;r;r=r.next)r.callback.call(r.context,e,n)}function s(t,e,n,r){for(var i=t;i;i=i.next)i.callback.call(i.context,e,n,r)}function a(t,e,n,r,i){for(var o=t;o;o=o.next)o.callback.call(o.context,e,n,r,i)}function u(t,e,n,r,i,o){for(var s=t;s;s=s.next)s.callback.call(s.context,e,n,r,i,o)}function c(t,e,n,r,i,o,s){for(var a=t;a;a=a.next)a.callback.call(a.context,e,n,r,i,o,s)}function f(t,e,n,r){if(n){var i=t._events||(t._events=Object.create(null));i[e]=new O(n,r,i[e])}}function p(t,e,r,i){if(r){var o=n.i(g.once)(function(){h(t,e,o),r.apply(this,arguments)});o._callback=r,f(t,e,o,i)}}function h(t,e,n,r){var o=t._events;if(o)if(n||r)if(e)i(o,e,n,r);else for(var s in o)i(o,s,n,r);else e?o[e]=void 0:t._events=void 0}function l(t,e,n,r,i){if(w.test(n))for(var o=n.split(w),s=0,a=o;s<a.length;s++){var u=a[s];t(e,u,r,i)}else t(e,n,r,i)}function d(t,e,n,r){var i=t._events;if(i){var a=i[e],u=i.all;o(a,n,r),s(u,e,n,r)}}function v(t,e,n,r,i){var o=t._events;if(o){var u=o[e],c=o.all;s(u,n,r,i),a(c,e,n,r,i)}}function y(t,e,n,r,i,o,s){var a=t._events;if(a){var f=a[e],p=a.all;u(f,n,r,i,o,s),c(p,e,n,r,i,o,s)}}Object.defineProperty(e,"__esModule",{value:!0});var g=n(5);n.d(e,"EventMap",function(){return b}),n.d(e,"EventDescriptor",function(){return _}),n.d(e,"EventHandler",function(){return O}),e.on=f,e.once=p,e.off=h,e.strings=l,e.trigger2=d,e.trigger3=v,e.trigger5=y;var b=function(){function t(e){this.handlers=[],e&&(e instanceof t?this.handlers=e.handlers.slice():e&&this.addEventsMap(e))}return t.prototype.merge=function(t){this.handlers=this.handlers.concat(t.handlers)},t.prototype.addEventsMap=function(t){for(var e in t)this.addEvent(e,t[e])},t.prototype.bubbleEvents=function(t){for(var e=0,n=t.split(w);e<n.length;e++){var i=n[e];this.addEvent(i,r(i))}},t.prototype.addEvent=function(t,e){for(var n=this.handlers,r=0,i=t.split(w);r<i.length;r++){var o=i[r];n.push(new _(o,e))}},t.prototype.subscribe=function(t,e){for(var n=0,r=this.handlers;n<r.length;n++){var i=r[n];f(e,i.name,i.callback,t)}},t.prototype.unsubscribe=function(t,e){for(var n=0,r=this.handlers;n<r.length;n++){var i=r[n];h(e,i.name,i.callback,t)}},t}(),_=function(){function t(t,e){this.name=t,this.callback=e===!0?r(t):"string"==typeof e?function(){var t=this[e];t&&t.apply(this,arguments)}:e}return t}(),m={},O=function(){function t(t,e,n){void 0===n&&(n=null),this.callback=t,this.context=e,this.next=n}return t}(),w=/\s+/},function(t,e,n){"use strict";function r(t){if(t)return"function"==typeof t?{get:t}:t}function i(t){return c("mixinRules",t)}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return c("mixins",t)}function s(t){d.mixTo(t)}function a(t){t.predefine()}function u(t){if("function"!=typeof t)return c("define",t);t.define({})}function c(t,e){return function(n){n[t]?n[t](e):d[t].call(n,e)}}function f(t,e,r){return p(n.i(h.assign)({},t),e,r)}function p(t,e,r){void 0===r&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var s=o[i];if("constructor"!==s){var a=Object.getOwnPropertyDescriptor(e,s),u=n.i(h.getPropertyDescriptor)(t,s),c=u&&u.value;if(null!=c){var p=r[s];p&&(t[s]="object"==typeof p?f(c,a.value,p):"merge"===p?f(c,a.value):v[p](c,a.value))}else Object.defineProperty(t,s,a)}}return t}var h=n(5);n.d(e,"a",function(){return d}),e.b=i,e.c=o,e.d=s,e.e=a,e.f=u,e.g=p;var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(){function t(){this.initialize.apply(this,arguments)}return t.prototype.initialize=function(){},t.create=function(t,e){return new this(t,e)},t.mixins=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=this.prototype,o=this._mixinRules||{},s=this._appliedMixins=(this._appliedMixins||[]).slice(),a=0,u=e;a<u.length;a++){var c=u[a];if(c instanceof Array)return t.mixins.apply(this,c);s.indexOf(c)>=0||(s.push(c),"function"==typeof c?(n.i(h.defaults)(this,c),p(i,c.prototype,o)):p(i,c,o))}return this},t.mixTo=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t.mixins.call(o,this)}return this},t.mixinRules=function(t){var e=Object.getPrototypeOf(this.prototype).constructor;return e._mixinRules&&p(t,e._mixinRules),this._mixinRules=t,this},t.define=function(t,e){if(void 0===t&&(t={}),!this.define)return h.log.error("[Class Defininition] Class must have class extensions to use @define decorator. Use '@extendable' before @define, or extend the base class with class extensions.",t),this;this.predefine();var i=this.prototype,o=n.i(h.omit)(t,"properties","mixins","mixinRules"),s=t.properties,a=void 0===s?{}:s,u=t.mixins,c=t.mixinRules;return n.i(h.assign)(i,o),n.i(h.assign)(this,e),a&&Object.defineProperties(i,n.i(h.transform)({},a,r)),c&&this.mixinRules(c),u&&this.mixins(u),this},t.extend=function(t,e){var n;return t&&t.hasOwnProperty("constructor")?(n=t.constructor,l(n,this)):n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(this),t?n.define(t,e):n.predefine()},t.predefine=function(){var e=n.i(h.getBaseClass)(this);return e.create===this.create&&(this.create=t.create),this.__super__=e.prototype,this},t}();d._mixinRules={properties:"merge"};var v={pipe:function(t,e){return function(n){return t.call(this,e.call(this,n))}},mergeSequence:function(t,e){return function(){return n.i(h.defaults)(t.call(this),e.call(this))}},overwrite:function(t,e){return e},sequence:function(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}},reverse:function(t,e){return function(){e.apply(this,arguments),t.apply(this,arguments)}},every:function(t,e){return function(){return t.apply(this,arguments)&&e.apply(this,arguments)}},some:function(t,e){return function(){return t.apply(this,arguments)||e.apply(this,arguments)}}}},function(t,e,n){"use strict";var r=n(3);n.d(e,"a",function(){return r.a});var i=n(22);n.d(e,"b",function(){return i.a});var o=n(21);n.d(e,"c",function(){return o.a}),n.d(e,"d",function(){return o.b}),n.d(e,"e",function(){return o.c});var s=n(20);n.d(e,"f",function(){return s.a}),n.d(e,"g",function(){return s.b}),n.d(e,"h",function(){return s.c});var a=n(23);n.d(e,"i",function(){return a.a})},function(t,e,n){"use strict";function r(t){return!!v(t)&&(t._previousAttributes=new t.Attributes(t.attributes),t._changedAttributes=null,!0)}function i(t,e){return t._changedAttributes&&(t._changedAttributes=null),y(t,e)}function o(t,e){var n=new t.Attributes(e);return t.forEachAttr(n,function(e,r,i){n[r]=i.clone(e,t)}),n}function s(t,e,n){var o,s=r(t),a={},u=t.attributes,c=t._attributes[e],f=u[e];if(o=c.canBeUpdated(f,n,a)){var h=f._createTransaction(o,a);h&&(h.commit(t),c.propagateChanges&&(i(t,a),p(t,"change:"+e,t,f,a)))}else{var l=c.transform(n,a,f,t);u[e]=l,c.isChanged(l,f)&&(c.handleChange(l,f,t),i(t,a),p(t,"change:"+e,t,l,a))}s&&d(t)}var a=n(0),u=n(1);n.d(e,"a",function(){return b}),e.b=s;var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},p=a.b.trigger3,h=a.a.assign,l=a.a.isEmpty,d=(a.a.log,u.b.free,u.b.aquire,u.b.commit),v=u.b.begin,y=u.b.markAsDirty,g=0,b=_=function(t){function e(e,n){var r=t.call(this,g++)||this;r.attributes={};var i=n||{},s=(i.parse?r.parse(e,i):e)||{},a=i.clone?o(r,s):r.defaults(s);return r.forEachAttr(a,function(t,e,n){var o=a[e]=n.transform(t,i,void 0,r);n.handleChange(o,void 0,r)}),r.attributes=r._previousAttributes=a,r.initialize(e,n),r._localEvents&&r._localEvents.subscribe(r,r),r}return c(e,t),e.define=function(t,e){return u.a.define(t,e)},e.defaults=function(t){return this.extend({attributes:t})},e.prototype.previousAttributes=function(){return new this.Attributes(this._previousAttributes)},Object.defineProperty(e.prototype,"__inner_state__",{get:function(){return this.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){var t=this._changedAttributes;if(!t){var e=this._previousAttributes;t={};for(var n=this,r=n._attributes,i=n.attributes,o=0,s=this._keys;o<s.length;o++){var a=s[o],u=i[a];r[a].isChanged(u,e[a])&&(t[a]=u)}this._changedAttributes=t}return t},enumerable:!0,configurable:!0}),e.prototype.changedAttributes=function(t){if(!t)return!!this.hasChanged()&&h({},this.changed);var e,n=!1,r=this._transaction?this._previousAttributes:this.attributes,i=this._attributes;for(var o in t)i[o].isChanged(r[o],e=t[o])&&((n||(n={}))[o]=e);return n},e.prototype.hasChanged=function(t){var e=this._previousAttributes;return!!e&&(t?this._attributes[t].isChanged(this.attributes[t],e[t]):!l(this.changed))},e.prototype.previous=function(t){if(t){var e=this._previousAttributes;if(e)return e[t]}return null},e.prototype.isNew=function(){return null==this.id},e.prototype.has=function(t){return void 0!=this[t]},e.prototype.unset=function(t,e){return this.set(t,void 0,e),this},e.prototype.clear=function(t){var e=this,n=t&&t.nullify;return this.transaction(function(){e.forEachAttr(e.attributes,function(t,r){return e[r]=n?null:void 0})},t),this},e.prototype.getOwner=function(){var t=this._owner;return this._ownerKey?t:t&&t._owner},Object.defineProperty(e.prototype,"id",{get:function(){return this.attributes[this.idAttribute]},set:function(t){s(this,this.idAttribute,t)},enumerable:!0,configurable:!0}),e.prototype.Attributes=function(t){this.id=t.id},e.prototype.forEachAttr=function(t,e){var n,r=this._attributes;for(var i in t){var o=r[i];o?e(t[i],i,o):(n||(n=[]),n.push("'"+i+"'"))}n&&this._log("warn","attributes "+n.join(", ")+" are not defined",t)},e.prototype.each=function(t,e){for(var n=void 0!==e?function(n,r){return t.call(e,n,r)}:t,r=this.attributes,i=0,o=this._keys;i<o.length;i++){var s=o[i],a=r[s];void 0!==a&&n(a,s)}},e.prototype.keys=function(){for(var t=[],e=this.attributes,n=0,r=this._keys;n<r.length;n++){var i=r[n];void 0===e[i]||t.push(i)}return t},e.prototype.values=function(){return this.map(function(t){return t})},e.prototype._toJSON=function(){return{}},e.prototype._parse=function(t){return t},e.prototype.defaults=function(t){return{}},e.prototype.initialize=function(t,e){},e.prototype.clone=function(t){void 0===t&&(t={});var e=new this.constructor(this.attributes,{clone:!0});return t.pinStore&&(e._defaultStore=this.getStore()),e},e.prototype.deepClone=function(){return this.clone()},e.prototype._validateNested=function(t){var e=this,n=0;return this.forEachAttr(this.attributes,function(r,i,o){var s=o.validate(e,r,i);s&&(t[i]=s,n++)}),n},e.prototype.get=function(t){return this[t]},e.prototype.toJSON=function(){var t=this,e={};return this.forEachAttr(this.attributes,function(n,r,i){var o=i.toJSON;if(void 0!==n){var s=o.call(t,n,r);void 0!==s&&(e[r]=s)}}),e},e.prototype.parse=function(t,e){return this._parse(t)},e.prototype.set=function(e,n,r){return"string"==typeof e?r?t.prototype.set.call(this,(i={},i[e]=n,i),r):(s(this,e,n),this):t.prototype.set.call(this,e,n);var i},e.prototype.deepSet=function(t,e,n){var r=this;return this.transaction(function(){for(var i=t.split("."),o=i.length-1,s=i[o],a=r,u=0;u<o;u++){var c=i[u],f=a.get?a.get(c):a[c];if(!f){var p=a._attributes;if(!p)return;var h=p[c].create();n&&n.nullify&&h._attributes&&h.clear(n),a[c]=f=h}a=f}a.set?a.set(s,e,n):a[s]=e}),this},e.prototype.transaction=function(t,e){void 0===e&&(e={});var n=r(this);t.call(this,this),n&&d(this)},e.prototype._createTransaction=function(t,e){var n=this;void 0===e&&(e={});var o=r(this),s=[],a=[],u=this.attributes,c=e.parse?this.parse(t,e):t;if(c&&c.constructor===Object?this.forEachAttr(c,function(t,r,i){var o,c=u[r];if(o=i.canBeUpdated(c,t,e)){var f=c._createTransaction(o,e);return void(f&&(a.push(f),i.propagateChanges&&s.push(r)))}var p=i.transform(t,e,c,n);u[r]=p,i.isChanged(p,c)&&(s.push(r),i.handleChange(p,c,n))}):this._log("error","incompatible argument type",c),s.length&&i(this,e))return new m(this,o,a,s);for(var f=0,p=a;f<p.length;f++){p[f].commit(this)}o&&d(this)},e.prototype._onChildrenChange=function(t,e){var n=t._ownerKey,r=this._attributes[n];r&&!r.propagateChanges||this.forceAttributeChange(n,e)},e.prototype.forceAttributeChange=function(t,e){void 0===e&&(e={});var n=r(this);i(this,e)&&p(this,"change:"+t,this,this.attributes[t],e),n&&d(this)},Object.defineProperty(e.prototype,"collection",{get:function(){return this._ownerKey?null:this._owner},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;this._disposed||(this.forEachAttr(this.attributes,function(t,n,r){r.dispose(e,t)}),t.prototype.dispose.call(this))},e.prototype._log=function(t,e,n){a.a.log[t]("[Model Update] "+this.getClassName()+": "+e,n,"Attributes spec:",this._attributes)},e.prototype.getClassName=function(){return t.prototype.getClassName.call(this)||"Model"},e}(u.a);b=_=f([n.i(a.h)({cidPrefix:"m",_changeEventName:"change",idAttribute:"id",_keys:["id"]})],b);var _,m=function(){function t(t,e,n,r){this.object=t,this.isRoot=e,this.nested=n,this.changes=r}return t.prototype.commit=function(t){for(var e=this,n=e.nested,r=e.object,i=e.changes,o=0,s=n;o<s.length;o++){s[o].commit(r)}for(var a=r.attributes,u=r._isDirty,c=0,f=i;c<f.length;c++){var h=f[c];p(r,"change:"+h,r,a[h],u)}this.isRoot&&d(r,t)},t}()},function(t,e,n){"use strict";function r(t,e,n){for(var r=e.match(i),o=r.length-1,s=t,a=0;a<o;a++){var u=r[a];switch(u){case"~":s=s.getStore();break;case"^":s=s.getOwner();break;default:s=s.get(u)}if(!s)return}return n(s,r[o])}n.d(e,"b",function(){return o}),e.a=r;var i=/\^|([^.]+)/g,o=function(){function t(t,e){void 0===e&&(e=!1);var n=t.match(i).map(function(t){return"^"===t?"getOwner()":"~"===t[0]?'getStore().get("'+t.substr(1)+'")':t});this.tail=e&&n.pop(),this.local=!n.length,n.unshift("self"),this.resolve=new Function("self","return "+n.join(".")+";")}return t}()},function(t,e,n){"use strict";function r(t,e,n){var r=n.parse?t.parse(e,n):e;return Array.isArray(r)?r:[r]}function i(t,e){return void 0!==e?function(n,r){return t.call(e,n,r)}:t}function o(t,e){return"object"==typeof t?function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0}:i(t,e)}var s=n(0),a=n(1),u=n(2),c=n(4),f=n(15),p=n(17),h=n(16);n.d(e,"a",function(){return A});var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},v=s.b.trigger2,y=(s.b.on,s.b.off,a.b.begin),g=a.b.commit,b=a.b.markAsDirty,_=s.a.omit,m=(s.a.log,s.a.assign),O=s.a.defaults,w=0,j=Array.prototype.slice,A=C=function(t){function e(e,i,o){void 0===i&&(i={});var s=t.call(this,w++)||this;if(s.models=[],s._byId={},s.comparator=s.comparator,void 0!==i.comparator&&(s.comparator=i.comparator,i.comparator=void 0),s.model=s.model,i.model&&(s.model=i.model,i.model=void 0),s.idAttribute=s.model.prototype.idAttribute,s._shared=o||0,e){var a=r(s,e,i);n.i(p.a)(s,a,i,!0)}return s.initialize.apply(s,arguments),s._localEvents&&s._localEvents.subscribe(s,s),s}return l(e,t),e.prototype.createSubset=function(t,e){var n=this.constructor.subsetOf(this).options.type,r=new n(t,e);return r.resolve(this),r},e.predefine=function(){function t(t,n,r){e.call(this,t,n,a.c.share|(r?a.c.listen:0))}var e=this;return this._SubsetOf=null,s.c.mixTo(t),t.prototype=this.prototype,t._attribute=E,this.Refs=this.Subset=t,a.a.predefine.call(this),n.i(u.c)(this,u.l),this},e.define=function(t,e){void 0===t&&(t={});var n=s.a.getChangedStatics(this,"comparator","model","itemEvents"),r=m(n,t),i=_(r,"itemEvents");if(r.itemEvents){var o=new s.j(this.prototype._itemEvents);o.addEventsMap(r.itemEvents),i._itemEvents=o}return a.a.define.call(this,i,e)},Object.defineProperty(e.prototype,"__inner_state__",{get:function(){return this.models},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"comparator",{get:function(){return this._comparator},set:function(t){var e=this;switch(typeof t){case"string":this._comparator=function(e,n){var r=e[t],i=n[t];return r===i?0:r<i?-1:1};break;case"function":1===t.length?this._comparator=function(n,r){var i=t.call(e,n),o=t.call(e,r);return i===o?0:i<o?-1:1}:this._comparator=function(n,r){return t.call(e,n,r)};break;default:this._comparator=null}},enumerable:!0,configurable:!0}),e.prototype.getStore=function(){return this._store||(this._store=this._owner?this._owner.getStore():this._defaultStore)},e.prototype._onChildrenChange=function(t,e,r){if(void 0===e&&(e={}),r!==this){var i=this.idAttribute;t.hasChanged(i)&&n.i(c.a)(this._byId,t);var o=y(this);b(this,e)&&v(this,"change",t,e),o&&g(this)}},e.prototype.get=function(t){if(null!=t){if("object"==typeof t){var e=t[this.idAttribute];return void 0!==e&&this._byId[e]||this._byId[t.cid]}return this._byId[t]}},e.prototype.each=function(t,e){for(var n=i(t,e),r=this.models,o=0;o<r.length;o++)n(r[o],o)},e.prototype.every=function(t,e){for(var n=o(t,e),r=this.models,i=0;i<r.length;i++)if(!n(r[i],i))return!1;return!0},e.prototype.filter=function(t,e){var n=o(t,e);this.models;return this.map(function(t,e){return n(t,e)?t:void 0})},e.prototype.some=function(t,e){for(var n=o(t,e),r=this.models,i=0;i<r.length;i++)if(n(r[i],i))return!0;return!1},e.prototype.map=function(t,e){for(var n=i(t,e),r=this.models,o=Array(r.length),s=0,a=0;a<r.length;a++){var u=n(r[a],a);void 0===u||(o[s++]=u)}return o.length=s,o},e.prototype._validateNested=function(t){if(this._shared)return 0;var e=0;return this.each(function(n){var r=n.validationError;r&&(t[n.cid]=r,e++)}),e},e.prototype.initialize=function(){},Object.defineProperty(e.prototype,"length",{get:function(){return this.models.length},enumerable:!0,configurable:!0}),e.prototype.first=function(){return this.models[0]},e.prototype.last=function(){return this.models[this.models.length-1]},e.prototype.at=function(t){var e=t<0?t+this.models.length:t;return this.models[e]},e.prototype.clone=function(t){void 0===t&&(t={});var e=this._shared&a.c.share?this.models:this.map(function(t){return t.clone()}),n=new this.constructor(e,{model:this.model,comparator:this.comparator},this._shared);return t.pinStore&&(n._defaultStore=this.getStore()),n},e.prototype.toJSON=function(){return this.models.map(function(t){return t.toJSON()})},e.prototype.set=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e={}),void 0!==e.add&&this._log("warn","Collection.set doesn't support 'add' option, behaving as if options.add === true.",e),e.reset)this.reset(t,e);else{var n=this._createTransaction(t,e);n&&n.commit()}return this},e.prototype.dispose=function(){if(!this._disposed){for(var e=!this._shared,r=0,i=this.models;r<i.length;r++){var o=i[r];n.i(c.b)(this,o),e&&o.dispose()}t.prototype.dispose.call(this)}},e.prototype.reset=function(t,e){void 0===e&&(e={});var i=y(this),o=n.i(c.c)(this);return t&&n.i(p.a)(this,r(this,t,e),e,!0),b(this,e),e.silent||v(this,"reset",this,O({previousModels:o},e)),i&&g(this),this.models},e.prototype.add=function(t,e){void 0===e&&(e={});var i=r(this,t,e),o=this.models.length?n.i(f.a)(this,i,e):n.i(p.a)(this,i,e);if(o)return o.commit(),o.added},e.prototype.remove=function(t,e){return void 0===e&&(e={}),t?Array.isArray(t)?n.i(h.a)(this,t,e):n.i(h.b)(this,t,e):[]},e.prototype._createTransaction=function(t,e){void 0===e&&(e={});var i=r(this,t,e);return this.models.length?e.remove===!1?n.i(f.a)(this,i,e,!0):n.i(p.b)(this,i,e):n.i(p.a)(this,i,e)},e.prototype.pluck=function(t){return this.models.map(function(e){return e[t]})},e.prototype.sort=function(t){if(void 0===t&&(t={}),n.i(c.d)(this,t)){var e=y(this);b(this,t)&&v(this,"sort",this,t),e&&g(this)}return this},e.prototype.push=function(t,e){return this.add(t,m({at:this.length},e))},e.prototype.pop=function(t){var e=this.at(this.length-1);return this.remove(e,t),e},e.prototype.unshift=function(t,e){return this.add(t,m({at:0},e))},e.prototype.shift=function(t){var e=this.at(0);return this.remove(e,t),e},e.prototype.slice=function(){return j.apply(this.models,arguments)},e.prototype.indexOf=function(t){var e=this.get(t);return this.models.indexOf(e)},e.prototype.modelId=function(t){return t[this.model.prototype.idAttribute]},e.prototype.toggle=function(t,e){var n=Boolean(this.get(t)),r=void 0===e?!n:Boolean(e);return n!==r&&(n?this.remove(t):this.add(t)),r},e.prototype._log=function(t,e,n){s.a.log[t]("[Collection Update] "+this.model.prototype.getClassName()+"."+this.getClassName()+": "+e,n,"Attributes spec:",this.model.prototype._attributes)},e.prototype.getClassName=function(){return t.prototype.getClassName.call(this)||"Collection"},e}(a.a);A._attribute=u.e,A=C=d([n.i(s.h)({cidPrefix:"c",model:u.a,_changeEventName:"changes",_aggregationError:null})],A);var E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(u.l);E.defaultValue=[],n.i(u.c)(A,u.l),u.a.Collection=A;var C},function(t,e,n){"use strict";function r(){}function i(t){var e;if("function"==typeof t)e=t.has;else if(t&&t instanceof c)e=t;else{var n=o(t);e=n&&n.prototype instanceof s.a?n.shared.value(t):new c({type:n,value:t})}return e.options}function o(t){switch(typeof t){case"number":return Number;case"string":return String;case"boolean":return Boolean;case"undefined":return;case"object":return t?t.constructor:void 0}}var s=n(1),a=n(0);n.d(e,"a",function(){return c}),e.b=i;var u=a.a.assign,c=function(){function t(t){this.options={getHooks:[],transforms:[],changeHandlers:[]},t&&u(this.options,t)}return t.prototype.check=function(t,e){function n(n,r,i){if(!t.call(n,r,i)){var o=e||t.error||i+" is not valid";return"function"==typeof o?o.call(n,i):o}}var r=this.options.validate;return this.metadata({validate:r?function(t,e,i){return r(t,e,i)||n(t,e,i)}:n})},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.metadata({isRequired:!0})},enumerable:!0,configurable:!0}),t.prototype.watcher=function(t){return this.metadata({_onChange:t})},t.prototype.parse=function(t){return this.metadata({parse:t})},t.prototype.toJSON=function(t){return this.metadata({toJSON:"function"==typeof t?t:t?function(t){return t&&t.toJSON()}:r})},t.prototype.get=function(t){return this.metadata({getHooks:this.options.getHooks.concat(t)})},t.prototype.set=function(t){function e(e,n,r,i){if(this.isChanged(e,r)){var o=t.call(i,e,this.name);return void 0===o?r:this.convert(o,n,r,i)}return r}return this.metadata({transforms:this.options.transforms.concat(e)})},t.prototype.changeEvents=function(t){return this.metadata({changeEvents:t})},t.prototype.events=function(t){function e(t,e,r){e&&e.trigger&&n.unsubscribe(r,e),t&&t.trigger&&n.subscribe(r,t)}var n=new a.j(t);return this.metadata({changeHandlers:this.options.changeHandlers.concat(e)})},Object.defineProperty(t.prototype,"has",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.metadata=function(e){var n=new t(this.options);return u(n.options,e),n},t.prototype.value=function(t){return this.metadata({value:t})},t}();Function.prototype.value=function(t){return new c({type:this,value:t})},Object.defineProperty(Function.prototype,"isRequired",{get:function(){return this._isRequired||this.has.isRequired},set:function(t){this._isRequired=t}}),Object.defineProperty(Function.prototype,"has",{get:function(){return this._has||new c({type:this,value:this._attribute.defaultValue})},set:function(t){this._has=t}})},function(t,e,n){"use strict";function r(t){switch(typeof t){case"function":return function(e){return t.call(e)};case"object":return function(){return t};case"string":return new i.b(t).resolve}}var i=n(10);e.a=r},function(t,e,n){"use strict";var r=(n(25),n(27),n(26));n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t,e,r,o){var a=c(t),h=[],l=s(t,e,h,r,o);if(l.length||h.length){var d=i(t,l,r);if(p(t,r))return new u.e(t,a,l,[],h,d);t._aggregationError&&n.i(u.f)(t)}a&&f(t)}function i(t,e,r){var i=r.at;if(null!=i){var s=t.models.length-e.length;return i=Number(i),i<0&&(i+=s+1),i<0&&(i=0),i>s&&(i=s),o(t.models,i,e),!1}return n.i(u.d)(t,r)}function o(t,e,n){for(var r=t.length-1,i=r-n.length;i>=e;i--,r--)t[r]=t[i];for(i=0,r=e;i<n.length;i++,r++)t[r]=n[i]}function s(t,e,r,i,o){for(var s=t._byId,a=t.models,c=(o||i.merge)&&!t._shared,f=(i.parse,t.model.prototype.idAttribute),p=a.length,h=0,l=e;h<l.length;h++){var d=l[h],v=d?s[d[f]]||s[d.cid]:null;if(v){if(c&&d!==v){var y=d.attributes||d,g=v._createTransaction(y,i);g&&r.push(g),v.hasChanged(f)&&n.i(u.a)(s,v)}}else v=n.i(u.h)(t,d,i),a.push(v),n.i(u.i)(s,v)}return a.slice(p)}var a=n(1),u=n(4);e.a=r;var c=a.b.begin,f=a.b.commit,p=a.b.markAsDirty},function(t,e,n){"use strict";function r(t,e,r){var i=t.get(e);if(i){var o=l(t),s=t.models;s.splice(s.indexOf(i),1),n.i(a.j)(t._byId,i);var u=h(t,r);return u&&(p(i,"remove",i,t,r),p(t,"remove",i,t,r)),n.i(a.b)(t,i),u&&f(t,"update",t,r),o&&d(t),i}}function i(t,e,n){var r=o(t,e);if(r.length){var i=l(t);if(s(t,r.length),h(t,n)){new a.e(t,i,[],r,[],!1).commit()}else i&&d(t)}return r}function o(t,e){for(var r=Array(e.length),i=t._byId,o=0,s=0;o<e.length;o++){var u=t.get(e[o]);u&&(r[s++]=u,n.i(a.j)(i,u),n.i(a.b)(t,u))}return r.length=s,r}function s(t,e){for(var n=t.models,r=t.models=Array(n.length-e),i=t._byId,o=0,s=0;o<n.length;o++){var a=n[o];i[a.cid]&&(r[s++]=a)}r.length=s}var a=n(4),u=n(0),c=n(1);e.b=r,e.a=i;var f=u.b.trigger2,p=u.b.trigger3,h=c.b.markAsDirty,l=c.b.begin,d=c.b.commit},function(t,e,n){"use strict";function r(t,e,r,i){var o=f(t),s=a(t,e,r);if(s.length){var u=n.i(c.d)(t,r);if(h(t,i?l:r))return new c.e(t,o,s.slice(),[],[],u);t._aggregationError&&n.i(c.f)(t)}o&&p(t)}function i(t,e,r){var i=f(t),a=[],u=t.models,l=s(t,e,a,r),d=t.models.length-l.length,v=d<u.length?d?o(t,u):n.i(c.g)(t,u):[],y=a.length||l.length,g=n.i(c.d)(t,r)&&y||l.length||r.sorted;if(y||v.length||g){if(h(t,r))return new c.e(t,i,l,v,a,g);t._aggregationError&&n.i(c.f)(t)}i&&p(t)}function o(t,e){for(var r=t._byId,i=[],o=0,s=e;o<s.length;o++){var a=s[o];r[a.cid]||(i.push(a),n.i(c.b)(t,a))}return i}function s(t,e,r,i){for(var o=Array(e.length),s={},a=(null==i.merge||i.merge)&&!t._shared,u=t._byId,f=t.models,p=t.model.prototype.idAttribute,h=[],l=!0,d=0,v=0;d<e.length;d++){var y=e[d],g=null;if(y){var b=y[p],_=y.cid;if(s[b]||s[_])continue;g=u[b]||u[_]}if(g){if(a&&y!==g){l&&f[v]!==g&&(l=!1);var m=y.attributes||y,O=g._createTransaction(m,i);O&&r.push(O)}}else g=n.i(c.h)(t,y,i),h.push(g);o[v++]=g,n.i(c.i)(s,g)}return o.length=v,t.models=o,t._byId=s,l||(i.sorted=!0),h}function a(t,e,r){for(var i=e?e.length:0,o=Array(i),s={},a=t.model.prototype.idAttribute,u=0,f=0;u<i;u++){var p=e[u];if(!p||!s[p[a]]&&!s[p.cid]){var h=n.i(c.h)(t,p,r);o[f++]=h,n.i(c.i)(s,h)}}return o.length=f,t._byId=s,t.models=o}var u=n(1),c=n(4);e.a=r,e.b=i;var f=u.b.begin,p=u.b.commit,h=u.b.markAsDirty,l={silent:!0}},function(t,e,n){"use strict";function r(t){return new u.b({value:t})}function i(t){return function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i;return this.transaction(function(){i=t.apply(e,n)}),i}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0);n.d(e,"tools",function(){return o.a}),n.d(e,"eventsApi",function(){return o.b}),n.d(e,"Mixable",function(){return o.c}),n.d(e,"mixinRules",function(){return o.d}),n.d(e,"mixins",function(){return o.e}),n.d(e,"extendable",function(){return o.f}),n.d(e,"predefine",function(){return o.g}),n.d(e,"define",function(){return o.h}),n.d(e,"mergeProps",function(){return o.i}),n.d(e,"EventMap",function(){return o.j}),n.d(e,"Messenger",function(){return o.k}),n.d(e,"Events",function(){return o.l});var s=n(11);n.d(e,"Collection",function(){return s.a});var a=n(14);n.d(e,"Store",function(){return a.a});var u=n(2);n.d(e,"Record",function(){return u.a}),n.d(e,"ChainableAttributeSpec",function(){return u.b}),n.d(e,"createSharedTypeSpec",function(){return u.c}),n.d(e,"AnyType",function(){return u.d}),n.d(e,"AggregatedType",function(){return u.e}),n.d(e,"DateType",function(){return u.f}),n.d(e,"MSDateType",function(){return u.g}),n.d(e,"TimestampType",function(){return u.h}),n.d(e,"PrimitiveType",function(){return u.i}),n.d(e,"NumericType",function(){return u.j}),n.d(e,"ArrayType",function(){return u.k}),n.d(e,"SharedType",function(){return u.l});var c=n(0);n.d(e,"Model",function(){return u.a}),n.d(e,"Class",function(){return c.c}),n.d(e,"on",function(){return p}),n.d(e,"off",function(){return h}),n.d(e,"trigger",function(){return l}),n.d(e,"once",function(){return d}),n.d(e,"listenTo",function(){return v}),n.d(e,"stopListening",function(){return y}),n.d(e,"listenToOnce",function(){return g}),e.value=r,e.transaction=i;var f,p=(f=c.l,f.on),h=f.off,l=f.trigger,d=f.once,v=f.listenTo,y=f.stopListening,g=f.listenToOnce},function(t,e,n){"use strict";function r(){return"l"+g++}function i(t,e){(t._listeningTo||(t._listeningTo=Object.create(null)))[e.cid||(e.cid=r())]=e}var o=n(7),s=n(5),a=n(6);n.d(e,"a",function(){return a.EventMap}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return m});var u=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=(o.c,o.f,o.d),f=(a.EventHandler,a.strings),p=a.on,h=a.off,l=a.once,d=a.trigger5,v=a.trigger2,y=a.trigger3,g=0,b=_=function(){function t(){this._events=void 0,this._listeningTo=void 0,this.cid=r(),this.initialize.apply(this,arguments)}return t.prototype.initialize=function(){},t.define=function(t,e){var r=n.i(s.omit)(t||{},"localEvents");if(t){var i=t.localEvents,u=t._localEvents;if(i||u){var c=new a.EventMap(this.prototype._localEvents);i&&c.addEventsMap(i),u&&c.merge(u),r._localEvents=c}}return o.a.define.call(this,r,e)},t.prototype.on=function(t,e,n){if("string"==typeof t)f(p,this,t,e,n);else for(var r in t)f(p,this,r,t[r],n||e);return this},t.prototype.once=function(t,e,n){if("string"==typeof t)f(l,this,t,e,n);else for(var r in t)f(l,this,r,t[r],n||e);return this},t.prototype.off=function(t,e,n){if(t)if("string"==typeof t)f(h,this,t,e,n);else for(var r in t)f(h,this,r,t[r],n||e);else h(this,void 0,e,n);return this},t.prototype.trigger=function(t,e,n,r,i,o){return void 0!==i||void 0!==o?d(this,t,e,n,r,i,o):void 0!==r?y(this,t,e,n,r):v(this,t,e,n),this},t.prototype.listenTo=function(t,e,n){return t&&(i(this,t),t.on(e,n||"object"!=typeof e?n:this,this)),this},t.prototype.listenToOnce=function(t,e,n){return t&&(i(this,t),t.once(e,n||"object"!=typeof e?n:this,this)),this},t.prototype.stopListening=function(t,e,n){var r=this._listeningTo;if(r){var i=!(e||n),o=n||"object"!=typeof e?n:this;if(t){var s=r[t.cid];s&&(i&&delete r[t.cid],s.off(e,o,this))}else if(null==t){for(var a in r)r[a].off(e,o,this);i&&(this._listeningTo=void 0)}}return this},t.prototype.dispose=function(){this._disposed||(this.stopListening(),this.off(),this._disposed=!0)},t}();b=_=u([c],b);var _,m=(Array.prototype.slice,n.i(s.omit)(b.prototype,"constructor","initialize"))},function(t,e,n){"use strict";var r=n(3);n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.convert=function(t){return null==t||t instanceof this.type?t:new this.type(t)},e.prototype.clone=function(t){return t&&t.clone?t.clone():this.convert(JSON.parse(JSON.stringify(t)))},e}(r.a);Function.prototype._attribute=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.dispose=function(){},e.prototype.create=function(){return this.type()},e.prototype.toJSON=function(t){return t},e.prototype.convert=function(t){return null==t?t:this.type(t)},e.prototype.isChanged=function(t,e){return t!==e},e.prototype.clone=function(t){return t},e}(r.a);Boolean._attribute=String._attribute=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.convert=function(t,e,n,r){var i=null==t?t:this.type(t);return i!==i&&this._log("warn","assigned with Invalid Number",t,r),i},e.prototype.validate=function(t,e,n){if(null!=e&&!isFinite(e))return n+" is not valid number"},e}(s);Number._attribute=a;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.toJSON=function(t){return t},e.prototype.dispose=function(){},e.prototype.convert=function(t,e,n,r){return null==t||Array.isArray(t)?t:(this._log("warn","assigned with non-array",t,r),[])},e.prototype.clone=function(t){return t&&t.slice()},e}(r.a);Array._attribute=u},function(t,e,n){"use strict";function r(t){return!isNaN(new Date(t).getTime())}function i(t){var e,n,r=0;if(n=h.exec(t)){for(var i,o=0;i=p[o];++o)n[i]=+n[i]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,"Z"!==n[8]&&void 0!==n[9]&&(r=60*n[10]+n[11],"+"===n[9]&&(r=0-r)),e=Date.UTC(n[1],n[2],n[3],n[4],n[5]+r,n[6],n[7])}else e=Date.parse(t);return e}var o=n(3);n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return f});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=(Date.prototype,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.convert=function(t,e,n,r){if(null==t||t instanceof Date)return t;var i=new Date(t),o=i.getTime();return o!==o&&this._log("warn","assigned with Invalid Date",t,r),i},e.prototype.validate=function(t,e,n){if(null!=e){var r=e.getTime();if(r!==r)return n+" is Invalid Date"}},e.prototype.toJSON=function(t){return t&&t.toISOString()},e.prototype.isChanged=function(t,e){return(t&&t.getTime())!==(e&&e.getTime())},e.prototype.clone=function(t){return t&&new Date(t.getTime())},e.prototype.dispose=function(){},e}(o.a));Date._attribute=a;var u=/\/Date\(([0-9]+)\)\//,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.convert=function(t){if("string"==typeof t){var e=u.exec(t);if(e)return new Date(Number(e[1]))}return a.prototype.convert.apply(this,arguments)},e.prototype.toJSON=function(t){return t&&"/Date("+t.getTime()+")/"},e}(a),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.toJSON=function(t){return t.getTime()},e}(a);r("2011-11-29T15:52:30.5")&&r("2011-11-29T15:52:30.52")&&r("2011-11-29T15:52:18.867")&&r("2011-11-29T15:52:18.867Z")&&r("2011-11-29T15:52:18.867-03:30")||(a.prototype.convert=function(t){return null==t||t instanceof Date?t:new Date(i(t))});var p=[1,4,5,6,7,10,11],h=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/},function(t,e,n){"use strict";var r=n(9),i=n(3),o=n(1);n.d(e,"a",function(){return c});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=o.b.free,u=o.b.aquire,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.clone=function(t){return t?t.clone():t},e.prototype.toJSON=function(t){return t&&t.toJSON()},e.prototype.canBeUpdated=function(t,e,n){if(t&&null!=e){if(!(e instanceof this.type))return e;if(n.merge)return e.__inner_state__}},e.prototype.convert=function(t,e,n,r){return null==t?t:t instanceof this.type?(!t._shared||t._shared&o.c.persistent||this._log("error","aggregated attribute is assigned with shared collection type",t,r),e.merge?t.clone():t):this.type.create(t,e)},e.prototype.dispose=function(t,e){e&&(this.handleChange(void 0,e,t),e.dispose())},e.prototype.validate=function(t,e){var n=e&&e.validationError;if(n)return n},e.prototype.create=function(){return this.type.create()},e.prototype.initialize=function(t){t.changeHandlers.unshift(this._handleChange)},e.prototype._handleChange=function(t,e,n){e&&a(n,e),t&&!u(n,t,this.name)&&this._log("error","aggregated attribute assigned with object which is aggregated somewhere else",t,n)},e}(i.a);r.a._attribute=c},function(t,e,n){"use strict";function r(){}var i=n(3),o=n(1),s=n(0);n.d(e,"a",function(){return l});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=s.b.on,c=s.b.off,f=o.b.free,p=o.b.aquire,h=o.c.listen|o.c.share,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.clone=function(t,e){if(!t||t._owner!==e)return t;var n=t.clone();return p(e,n,this.name),n},e.prototype.toJSON=function(){},e.prototype.canBeUpdated=function(t,e,n){if(t&&null!=e&&!(e instanceof this.type))return e},e.prototype.convert=function(t,e,n,r){if(null==t||t instanceof this.type)return t;var i=new this.type(t,e,h);return p(r,i,this.name),i},e.prototype.validate=function(t,e,n){},e.prototype.create=function(){return null},e.prototype._handleChange=function(t,e,n){e&&(e._owner===n?f(n,e):c(e,e._changeEventName,this._onChange,n)),t&&t._owner!==n&&u(t,t._changeEventName,this._onChange,n)},e.prototype.dispose=function(t,e){if(e){var n=e._owner===t;this.handleChange(void 0,e,t),n&&e.dispose()}},e.prototype.initialize=function(t){var e=this;this._onChange=this.propagateChanges?function(t,n,r){this===r||this.forceAttributeChange(e.name,n)}:r,t.changeHandlers.unshift(this._handleChange)},e}(i.a)},function(t,e,n){"use strict";function r(t,e){var n=_({},t,i),r=g({},n,e),s=c(r),a={Attributes:s,_attributes:new s(r),properties:_({},n,function(t){return t.createPropertyDescriptor()}),defaults:f(r),_toJSON:h(r),_localEvents:o(n),_keys:Object.keys(r)},l=p(n,r);return l&&(a._parse=l),m.level||(a.forEachAttr=u(r)),a}function i(t,e){return l.a.create(n.i(v.b)(t),e)}function o(t){var e;for(var n in t){var r=t[n],i=r.options._onChange;i&&(e||(e=new O),e.addEvent("change:"+n,"string"==typeof i?a(i,n):s(i,n)))}return e}function s(t,e){return function(n,r){t.call(n,r,e)}}function a(t,e){var n=new y.b(t,!0),r=n.local,i=n.resolve,o=n.tail;return r?function(t,n){t[o](n,e)}:function(t,n){i(t)[o](n,e)}}function u(t){var e=["var v, _a=this._attributes;"];for(var n in t)e.push("( v = a."+n+' ) === void 0 || f( v, "'+n+'", _a.'+n+" );");return new Function("a","f",e.join(""))}function c(t){var e=[];for(var n in t)e.push("this."+n+" = x."+n+";");var r=new Function("x",e.join(""));return r.prototype=Object.prototype,r}function f(t){function e(t,e){n.push("this."+t+" = ( v = a."+t+" ) === void 0 ? "+e+" : v;"),r.push("this."+t+" = "+e+";")}var n=["var v;"],r=[];for(var i in t){var o=t[i],s=o.value,a=o.type;void 0===s&&a?e(i,"i."+i+".create()"):b(s)?e(i,JSON.stringify(s)):void 0===s?e(i,"void 0"):e(i,"i."+i+".value")}var u=new Function("i",r.join("")),c=new Function("a","i",n.join(""));return u.prototype=c.prototype=Object.prototype,function(t){return t?new c(t,this._attributes):new u(this._attributes)}}function p(t,e){var n=["var a=this._attributes;"],r=!1;for(var i in t){var o=e[i];if(o&&o.parse&&(r=!0),t[i].parse){var s="r."+i+" === void 0 ||( r."+i+" = a."+i+".parse.call( this, r."+i+', "'+i+'") );';n.push(s)}}if(r)return n.push("return r;"),new Function("r",n.join(""))}function h(t){var e=["var json = {},v=this.attributes,a=this._attributes;"];for(var n in t){t[n].toJSON&&e.push("json."+n+" = a."+n+".toJSON.call( this, v."+n+", '"+n+"' );")}return e.push("return json;"),new Function(e.join(""))}var l=n(8),d=n(0),v=n(12),y=n(10);e.a=r;var g=d.a.defaults,b=d.a.isValidJSON,_=d.a.transform,m=d.a.log,O=d.b.EventMap},function(t,e,n){"use strict";var r=n(2),i=n(13),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.toJSON=function(t){return t&&"object"==typeof t?t.id:t},e.prototype.clone=function(t){return t&&"object"==typeof t?t.id:t},e.prototype.isChanged=function(t,e){return(t&&(null==t.id?t:t.id))!==(e&&(null==e.id?e:e.id))},e.prototype.validate=function(t,e,n){},e}(r.d);r.a.from=function(t){var e=n.i(i.a)(t);return new r.b({value:null,_attribute:s}).get(function(t,n){if("object"==typeof t)return t;var r=e(this),i=null;return r&&r.length&&(i=r.get(t)||null,this.attributes[n]=i,i&&this._attributes[n].handleChange(i,null,this)),i})}},function(t,e,n){"use strict";var r=n(2),i=n(1);n.d(e,"a",function(){return a});var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=null,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getStore=function(){return this},e.prototype.get=function(t){var e=this[t];return e||this===this._defaultStore?e:this._owner?this._owner.get(t):this._defaultStore.get(t)},Object.defineProperty(e,"global",{get:function(){return s},set:function(t){s&&s.dispose(),i.a.prototype._defaultStore=s=t},enumerable:!0,configurable:!0}),e}(r.a);a.global=new a},function(t,e,n){"use strict";function r(t){var e={parse:!0};return t&&h(e,t),e}function i(t){var e=function(t){function e(e,n){var i=t.call(this,e,r(n),l)||this;return i.resolvedWith=null,i}return f(e,t),Object.defineProperty(e.prototype,"__inner_state__",{get:function(){return this.refs||this.models},enumerable:!0,configurable:!0}),e.prototype.add=function(e,n){return t.prototype.add.call(this,e,r(n))},e.prototype.reset=function(e,n){return t.prototype.reset.call(this,e,r(n))},e.prototype._createTransaction=function(e,n){return t.prototype._createTransaction.call(this,e,r(n))},e.prototype.toJSON=function(){return this.refs?this.refs.map(function(t){return t.id||t}):this.models.map(function(t){return t.id})},e.prototype._validateNested=function(){return 0},e.prototype.clone=function(t){var e=this.constructor,n=new e([],{model:this.model,comparator:this.comparator});return this.resolvedWith?(n.resolvedWith=this.resolvedWith,n.reset(this.models,{silent:!0})):n.refs=this.refs,n},e.prototype.parse=function(t){var e=this.resolvedWith,n=Array.isArray(t)?t:[t],r=[];if(e)for(var i=0,o=n;i<o.length;i++){var s=o[i],a=e.get(s);a&&r.push(a)}else n.length&&(this.refs=n);return r},e.prototype.resolve=function(t){return t&&t.length&&(this.resolvedWith=t,this.refs&&(this.reset(this.refs,{silent:!0}),this.refs=null)),this},e.prototype.getModelIds=function(){return this.toJSON()},e.prototype.toggle=function(e,n){return t.prototype.toggle.call(this,this.resolvedWith.get(e),n)},e.prototype.addAll=function(){return this.reset(this.resolvedWith.models)},e.prototype.toggleAll=function(){return this.length?this.reset():this.addAll()},e}(t);return e=p([n.i(s.h)({})],e)}var o=n(11),s=n(0),a=n(13),u=n(2),c=n(1),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},h=s.a.fastDefaults;o.a.subsetOf=function(t){var e=this._SubsetOf||(this._SubsetOf=i(this)),r=n.i(a.a)(t);return new u.b({type:e}).get(function(t){return!t||t.resolvedWith||t.resolve(r(this)),t})};var l=c.c.share|c.c.persistent},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t){this.length=t._validateNested(this.nested={}),(this.error=t.validate(t))&&this.length++}return t.prototype.each=function(t){var e=this,n=e.error,r=e.nested;n&&t(n,null);for(var i in r)t(r[i],i)},t.prototype.eachError=function(e,n){this.each(function(r,i){r instanceof t?r.eachError(e,n.get(i)):e(r,i,n)})},t}()}])});
//# sourceMappingURL=index.js.map